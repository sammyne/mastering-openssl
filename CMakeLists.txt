cmake_minimum_required(VERSION 3.12)

PROJECT (openssl-hello-world)

# 3rd_party dependencies
INCLUDE(openssl.cmake)
INCLUDE(cppcodec.cmake)

#MESSAGE("-- ${OPENSSL_INCLUDE_DIRECTORIES}")
#MESSAGE("--- ${OPENSSL_LINK_DIRECTORIES}")

SET(CODEC ${PROJECT_SOURCE_DIR}/3rd_party/cppcodec)

INCLUDE_DIRECTORIES(
  ${CPPCODEC_INCLUDE_DIRECTORIES}
  ${OPENSSL_INCLUDE_DIRECTORIES}
  ${PROJECT_SOURCE_DIR}/include
)

LINK_DIRECTORIES(${OPENSSL_LINK_DIRECTORIES})

AUX_SOURCE_DIRECTORY(./encoding ENCODING)

ADD_LIBRARY(encoding SHARED ${ENCODING})

ADD_SUBDIRECTORY(ssl)
ADD_SUBDIRECTORY(crypto)